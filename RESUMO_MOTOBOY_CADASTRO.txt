â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  ANÃLISE: ROTA /motoboy_cadastro (CADASTRO)                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ ENDPOINT: POST /motoboy_cadastro/finalizar
ğŸ“± CHAMADO EM: src/screens/SignupStep2Screen.tsx â†’ onFinalizar()
ğŸ“¤ COMO ENVIA: src/api/signup.ts â†’ finalizarCadastro()

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¨ O QUE O APP ENVIA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Content-Type: multipart/form-data

CAMPOS DE TEXTO (Simples):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Nome                 â”‚ Tipo      â”‚ Exemplo               â”‚ ObrigatÃ³rio â”‚ Notas
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€
nome                 â”‚ string    â”‚ "JoÃ£o Silva"          â”‚ SIM         â”‚
celular              â”‚ string    â”‚ "(85) 98765-4321"     â”‚ SIM         â”‚ Formatado
email                â”‚ string    â”‚ "joao@email.com"      â”‚ SIM         â”‚
endereco             â”‚ string    â”‚ "Rua X, 123, Cidade"  â”‚ SIM         â”‚
modal                â”‚ string    â”‚ "moto"/"carro"/etc    â”‚ SIM         â”‚ (1 de 5)
placa                â”‚ string    â”‚ "ABC-1234"            â”‚ SIM         â”‚ Formatada
nascimento           â”‚ string    â”‚ "01/01/1990"          â”‚ SIM         â”‚ dd/mm/aaaa
cpf                  â”‚ string    â”‚ "123.456.789-00"      â”‚ SIM         â”‚ Formatado
cnpj                 â”‚ string    â”‚ "12.345.678/0000-90"  â”‚ NÃƒO         â”‚ Opcional

PAGAMENTO (Escolha obrigatÃ³ria):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
pay_method           â”‚ string    â”‚ "PIX" | "BANCO"       â”‚ SIM         â”‚

SE PIX (pay_method = "PIX"):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
pix_type             â”‚ string    â”‚ "cpf"/"cnpj"/etc      â”‚ SIM         â”‚
pix_key              â”‚ string    â”‚ "123.456.789-00"      â”‚ SIM         â”‚ Varia por tipo
pix_bank             â”‚ string    â”‚ "bb"/"bradesco"/etc   â”‚ NÃƒO         â”‚ Opcional

SE BANCO (pay_method = "BANCO"):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
bank_name            â”‚ string    â”‚ "bb"/"bradesco"/etc   â”‚ SIM         â”‚
agencia              â”‚ string    â”‚ "0001"                â”‚ SIM         â”‚
conta                â”‚ string    â”‚ "123456-0"            â”‚ SIM         â”‚

ARQUIVOS (Multipart):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Field Name                   â”‚ Aceita MÃºltiplos â”‚ ObrigatÃ³rio â”‚ Tipos
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
foto_entregador[]            â”‚ SIM              â”‚ SIM (â‰¥1)    â”‚ image/* ou pdf
doc_entregador[]             â”‚ SIM              â”‚ SIM (â‰¥1)    â”‚ image/* ou pdf
doc_veiculo[]                â”‚ SIM              â”‚ SIM (â‰¥1)    â”‚ image/* ou pdf
comprovante_residencia       â”‚ NÃƒO (sem [])     â”‚ SIM (=1)    â”‚ image/* ou pdf

DADO ADICIONAL (Para Debug):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
anexos_resumo        â”‚ JSON string com metadados dos arquivos (ignorado pelo backend)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… O QUE O APP ESPERA DE VOLTA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

HTTP Status: 200 OK (qualquer outro = ERRO)

Response Body (JSON):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{
  "id": "uuid-123-abc-def" ou "12345"    â† OBRIGATÃ“RIO! Sem isso = erro
}

Comportamento pÃ³s-sucesso:
1. âœ… Verifica se response.id existe
2. âœ… Se nÃ£o houver id â†’ LanÃ§a erro "Servidor nÃ£o retornou ID..."
3. âœ… Se houver id â†’ Exibe modal "Cadastro realizado com sucesso!"
4. âœ… Aguarda 4 segundos (setTimeout)
5. âœ… Redireciona para tela de LOGIN (nÃ£o para Dashboard)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” VALIDAÃ‡Ã•ES NO APP (Etapa 1)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ObrigatÃ³rios:
  â€¢ Nome completo
  â€¢ Celular (DDD): (XX) XXXXX-XXXX
  â€¢ Email: padrÃ£o e-mail
  â€¢ EndereÃ§o completo
  â€¢ Modal (tipo de veÃ­culo): moto, carro, bike, van, outro
  â€¢ Placa: XXX-XXXX (sem espaÃ§o)
  â€¢ Data de nascimento: DD/MM/AAAA (exato 10 caracteres)
  â€¢ CPF: XXX.XXX.XXX-XX
  â€¢ MÃ©todo de pagamento: PIX ou BANCO

ValidaÃ§Ãµes de DependÃªncia:
  â€¢ Se PIX â†’ tipo + chave obrigatÃ³rios
  â€¢ Se BANCO â†’ banco + agÃªncia + conta obrigatÃ³rios

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” VALIDAÃ‡Ã•ES NO APP (Etapa 2)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OBRIGATORIEDADE DE DOCUMENTOS:
  âœ“ foto_entregador (Selfie): pelo menos 1 arquivo
  âœ“ doc_entregador (RG/CNH): pelo menos 1 arquivo
  âœ“ doc_veiculo (CRLV): pelo menos 1 arquivo
  âœ“ comprovante_residencia: exatamente 1 arquivo

Se algum faltar â†’ Bloqueia e exibe Alert com lista do que falta.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ FLUXO RESUMIDO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. UsuÃ¡rio abre "SignupScreen" (Etapa 1)
   â†“
2. Preenche formulÃ¡rio (dados pessoais + pagamento)
   â†“
3. Clica "Prosseguir" â†’ Valida e navega para SignupStep2
   âŒ IMPORTANTE: NÃƒO envia nada para backend nesta etapa!
   â†“
4. Na Etapa 2, selecion afotos/documentos
   â†“
5. Clica "Finalizar cadastro" â†’ Valida se os 4 docs estÃ£o presentes
   â†“
6. Se OK â†’ Envia FormData com TUDO (dados + arquivos) para:
   POST /motoboy_cadastro/finalizar
   â†“
7. Backend processa e responde com {"id": "..."}
   â†“
8. App exibe sucesso (modal 4s) â†’ Redireciona para Login

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ ARQUIVOS ENVOLVIDOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Fonte de dados e lÃ³gica:
  â€¢ src/screens/SignupScreen.tsx â†’ Estado e validaÃ§Ã£o (Etapa 1)
  â€¢ src/screens/SignupStep2Screen.tsx â†’ SeleÃ§Ã£o de arquivos (Etapa 2)
  â€¢ src/api/signup.ts â†’ FunÃ§Ã£o finalizarCadastro() que constrÃ³i FormData

ConfiguraÃ§Ã£o:
  â€¢ src/services/api.ts â†’ SIGNUP_FINALIZE_PATH = "/motoboy_cadastro/finalizar"
  â€¢ src/config.ts â†’ API_BASE_URL para base da API

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸ PONTOS CRÃTICOS PARA O BACKEND
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. FORMDATA PARSING
   â†’ Extrair campos de texto e arquivos corretamente
   â†’ Usar biblioteca como multer (Node.js) ou equivalente

2. ARRAYS DE ARQUIVOS
   â†’ foto_entregador[] â†’ mÃºltiplos arquivos
   â†’ doc_entregador[] â†’ mÃºltiplos arquivos
   â†’ doc_veiculo[] â†’ mÃºltiplos arquivos
   â†’ comprovante_residencia â†’ SEM [] (esperado apenas 1)

3. VALIDAÃ‡Ã•ES
   â†’ Verificar se todos os 4 documentos estÃ£o presentes
   â†’ Validar formatos de CPF, data, etc (ou apenas aceitar como texto?)
   â†’ Verificar duplicaÃ§Ã£o de email/CPF?

4. RESPOSTA OBRIGATÃ“RIA
   â†’ DEVE ter { "id": "..." }
   â†’ Status HTTP 200
   â†’ Qualquer outra resposta / status = ERRO para o app

5. REDIRECIONAMENTO
   â†’ ApÃ³s sucesso, app vai para Login (nÃ£o para Dashboard)
   â†’ Usuario precisa fazer login com credenciais criadas neste cadastro

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¾ OPÃ‡Ã•ES DE VALORES (Dropdowns/Selects)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Modal (tipo veÃ­culo):
  â€¢ "moto"   â†’ Moto
  â€¢ "carro"  â†’ Carro
  â€¢ "bike"   â†’ Bike
  â€¢ "van"    â†’ Van
  â€¢ "outro"  â†’ Outro

Tipo PIX:
  â€¢ "cpf"      â†’ CPF
  â€¢ "cnpj"     â†’ CNPJ
  â€¢ "celular"  â†’ Celular
  â€¢ "email"    â†’ E-mail
  â€¢ "aleatoria" â†’ AleatÃ³ria

Bancos (extensiva lista com 40+ opÃ§Ãµes):
  â€¢ "bb"         â†’ Banco do Brasil
  â€¢ "bradesco"   â†’ Bradesco
  â€¢ "itau"       â†’ ItaÃº Unibanco
  â€¢ "caixa"      â†’ Caixa EconÃ´mica Federal
  â€¢ "santander"  â†’ Santander
  â€¢ "nubank"     â†’ Nubank
  â€¢ "inter"      â†’ Inter
  â€¢ ... (e mais 30+)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Gerado em: 18/11/2025
Local: /home/kron/apps/sigma/sigmha/entregador_app/
